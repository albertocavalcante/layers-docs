import{r as e,h as t}from"./p-72181234.js";import{g as l,n as s,b as i}from"./p-17dc16c8.js";const a=class{constructor(t){e(this,t),this.hideReadOnly=!1,this.hideWriteOnly=!1,this.includeRootName=!1}getRootAcessorNode(){if(this.node)return this.node;console.log(this.spec);let e=l(this.spec,this.path);return e?{schema:e,name:this.path.split("/").pop()}:null}renderProperty(e){if(!e.schema)return null;if(this.hideReadOnly&&e.schema.readOnly)return null;if(this.hideWriteOnly&&e.schema.writeOnly)return null;let l=i(e);console.log({path:l});let s=(this.includeRootName?l:l.slice(1)).join("."),a=l.join(".")+"."+e.name,r=this.hasProperties(e);return t("li",{class:"Api-property-list-item",key:a},t("h3",{class:"Api-property-spec"},t("a",{class:"Api-property-name",href:`#${a}`,id:a},s?t("span",{class:"Api-property-name-ancestor"},s,"."):null,e.name),t("span",{class:"Api-flex-grow"}),this.buildObjectTypeLabel(e),this.buildDefaultLabel(e),this.buildEnumLabel(e),this.buildConstraintsLabel(e),this.buildIsRequiredLabel(e)),e.schema.description&&t("p",{class:"Api-property-description"},e.schema.description),r&&t("docs-openapi-schema-nested",{node:e,spec:this.spec}))}renderPropertyList(e){let l=s(this.spec,e.schema);if(!l)return null;if("object"==l.type){let i=Object.entries(l.properties).map(([t,l])=>this.renderProperty({name:t,parent:e,schema:s(this.spec,l)}));return t("ul",{class:"Api-property-list",key:name},i)}}buildIsRequiredLabel(e){var l,s,i;return null!=(i=null===(s=null===(l=e.parent)||void 0===l?void 0:l.schema.required)||void 0===s?void 0:s.includes(e.name))&&i?t("span",{class:"Api-label Api-label-required"},"obrigatório"):t("span",{class:"Api-label Api-label-optional"},"opcional")}hasProperties(e){return"array"==e.schema.type?this.hasProperties({name:"[]",schema:s(this.spec,e.schema.items)}):"object"==e.schema.type}buildEnumLabel(e){let l=e.schema.enum;return l?t("span",{class:"Api-label Api-label-option"},t("span",{class:"Api-label-tooltip"},l.map(e=>t("code",null,e))),"ENUM"):null}buildObjectTypeLabel(e,l){var i,a;let{type:r,nullable:n,title:o,items:p,externalDocs:c,format:u}=e.schema,h=this.camelCase(null!=(i=null!=u?u:r)?i:"");if("object"==r&&o&&(h=o||h),"array"==r){let t={name:"[]",schema:s(this.spec,p),parent:e};return this.buildObjectTypeLabel(t,"[ ]")}return h+=(n?"?":"")+(null!=l?l:""),"object"==r&&(null===(a=c)||void 0===a?void 0:a.url)&&(h=t("stencil-route-link",{url:c.url},h)),t("span",{class:"Api-label Api-label-type"},h)}buildDefaultLabel(e){let l=e.schema.default;return void 0===l?null:t("span",{class:"Api-label Api-label-option"},"DEFAULT",t("span",{class:"Api-label-tooltip"},t("code",null,String(l))))}buildConstraintsLabel({schema:e}){let l=[];return void 0!==e.minItems&&void 0!==e.maxItems?l.push(`De ${e.minItems} até ${e.maxItems} Itens`):void 0!==e.minItems?l.push(`Pelo menos ${e.minItems}' Itens`):void 0!==e.maxItems&&l.push(`Até ${e.maxItems} Itens`),void 0!==e.minLength&&void 0!==e.maxLength?l.push(`De ${e.minLength} até ${e.maxLength} caracteres`):void 0!==e.minLength?l.push(`Pelo menos ${e.minLength}' caracteres`):void 0!==e.maxLength&&l.push(`Até ${e.maxLength} caracteres`),void 0!==e.minimum&&l.push(`${e.exclusiveMinimum?">":">="} ${e.minItems}`),void 0!==e.maximum&&l.push(`${e.exclusiveMaximum?"<":"<="} ${e.maximum}`),void 0!==e.pattern&&l.push(`/${e.pattern}/`),e.uniqueItems&&l.push("Itens Únicos"),l.length?t("span",{class:"Api-label Api-label-option"},"REGRAS",t("span",{class:"Api-label-tooltip"},l.map(e=>t("code",null,e)))):null}camelCase(e){return e.charAt(0).toUpperCase()+e.slice(1)}render(){let e=this.getRootAcessorNode();return e?this.renderPropertyList(e):t("div",null,"Entity not found: ",this.path)}static get style(){return"docs-openapi-schema,docs-openapi-schema-nested{display:block}.Api-property-spec{margin:0;padding:0;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:baseline;align-items:baseline}.Api-property-name{color:var(--api-gray1000)!important;font-size:13px;font-family:var(--font-family);font-weight:600;letter-spacing:.04em;-webkit-transition:color .2s;transition:color .2s}.Api-property-name-ancestor{color:var(--api-gray400);font-weight:400}.Api-property-name:target{color:rgb(var(--api-purple))!important}.Api-property-name:target .Api-property-name-ancestor{color:inherit}.Api-property-description{font-size:12px;color:var(--api-gray500);margin:4px 0 0 0;line-height:1.2em}.Api-property-list{margin:0;padding:0;list-style:none}.Api-property-list-item{padding:12px 0}.Api-property-list-item:not(:first-child){border-top:1px solid var(--api-gray100)}.Api-label{position:relative;font-size:12px;font-weight:500;margin-left:6px}.Api-label-optional{color:var(--api-gray300)}.Api-label-required{color:rgb(var(--api-orange));font-weight:700}.Api-label-type{color:rgb(var(--api-gray400));font-weight:500}.Api-label-option{font-size:10px;border-bottom:1px dotted var(--api-gray300);font-weight:600;color:rgb(var(--api-purple));cursor:pointer}.Api-label-tooltip{display:none;position:absolute;bottom:calc(100% + 8px);left:50%;-webkit-transform:translateX(calc(-50%));transform:translateX(calc(-50%));padding:1em;background:#fff;border-radius:4px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1),0 2px 6px rgba(0,0,0,.05);box-shadow:0 2px 4px rgba(0,0,0,.1),0 2px 6px rgba(0,0,0,.05);max-width:200px;word-break:break-word;width:-webkit-max-content;width:-moz-max-content;width:max-content;line-height:1.3em}.Api-label-tooltip>code{white-space:pre;color:rgb(var(--api-purple));background-color:rgba(var(--api-purple),.1);margin:2px;display:inline-block}.Api-label:hover>.Api-label-tooltip{display:block}.Api-flex-grow{-ms-flex:auto 1 0px;flex:auto 1 0}"}};export{a as docs_openapi_schema};