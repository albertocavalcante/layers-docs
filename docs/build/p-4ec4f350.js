function e(e){return e&&e.hasOwnProperty("$ref")}function t(n,r){if(r.startsWith("#/")){let u,i=r.replace("#/","").split("/"),l=i[i.length-1],o=n;for(;u=i.shift();){if(!(o&&u in o))return;o=o[u]}return e(o)?Object.assign({title:l},t(n,o.$ref)):Object.assign({title:l},o)}throw new Error("unsuporte path reference: "+r)}function n(n,r){if(r)return e(r)?t(n,r.$ref):r}function r(e,t=!1){let n=t?[e.name]:[];for(;e=e.parent;)n.unshift(e.name);return n}const u=new WeakMap;function i(e,t){if(!t)return{};if(u.has(t))return u.get(t);let r=n(e,t);return r?(r.allOf&&(r=r.allOf.reduce((t,r)=>{r.hasOwnProperty("$ref")&&(r=n(e,r));const u=Object.assign({},t.properties,r.properties),l=t.required+r.required,o=Object.assign(t,i(e,r));return o.properties=u,o.required=l,o},{})),r.anyOf&&console.log(r,"anyOf")):r={},u.set(t,r),r}function l(e,t,n="READ"){var r,u;let a=i(e,t.schema),f=null!=(r=a.example)?r:null===(u=a.examples)||void 0===u?void 0:u[0];if(!(a.readOnly&&"WRITE"==n||a.writeOnly&&"READ"==n)){if(Array.isArray(f))return f;if("object"==a.type){let r="object"==typeof f?Object.assign({},f):{};for(let u in a.properties)r[u]=l(e,{name:u,parent:t,schema:a.properties[u]},n);return r}return f||("array"==a.type?[l(e,{name:"[]",parent:t,schema:a.items},n)]:function({schema:e}){var t,n,r,u,i,l,a,f,c;let b;try{b=null===(t=e.type)||void 0===t?void 0:t.toLowerCase()}catch(d){console.log(e)}if(!b)return;if(e.default)return e.default;if("boolean"==b)return!0;if("number"==b)return((null!=(n=e.minimum)?n:1)+(null!=(r=e.maximum)?r:10))/2;if("integer"==b)return Math.round((null!=(u=e.minimum)?u:1)+(null!=(i=e.maximum)?i:10))/2;if("integer"==b)return Math.round((null!=(l=e.minimum)?l:1)+(null!=(a=e.maximum)?a:10))/2;let s=null===(f=e.format)||void 0===f?void 0:f.toLowerCase();return"string"==b?(null===(c=e.enum)||void 0===c?void 0:c[0])?e.enum[0]:"byte"==s?"U3RyaW5nIGV4ZW1wbG8=":"date-time"==s?o.toISOString():"date"==s?o.toISOString().split("T")[0]:"time"==s?o.toISOString().split("T")[1].replace("Z",""):"password"==s?"********":"email"==s?"luke@starwars.com":"uuid"==s?"2f985f64-5720-4562-b310-2c963f66afa6":"objectid"==s?"5bb2575199d7179dfe85be02":"exemplo":void 0}(t))}}let o=new Date;export{l as a,r as b,t as g,i as n};