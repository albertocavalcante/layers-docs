{
  "path": "/docs/enterprise/auth-connect/aws-cognito",
  "body": [
    "div",
    null,
    [
      "h2",
      {
        "id": "configuration-details"
      },
      " ",
      [
        "a",
        {
          "href": "#configuration-details"
        },
        "Configuration Details"
      ],
      " "
    ],
    " ",
    [
      "h3",
      {
        "id": "aws-configuration"
      },
      " ",
      [
        "a",
        {
          "href": "#aws-configuration"
        },
        "AWS Configuration"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Before integrating Auth Connect into your Ionic app, you’ll need to get AWS Cognito up and running."
    ],
    " ",
    [
      "blockquote",
      null,
      " ",
      [
        "p",
        null,
        [
          "strong",
          null,
          "Note:"
        ],
        " For complete information on configuring AWS Cognito, consult the ",
        [
          "a",
          {
            "href": "https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-getting-started.html"
          },
          "official documentation"
        ],
        " which includes tutorials on creating user and identity pools and more."
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "When creating a User Pool, be sure to add an app client. Additional Auth Connect-related configurations can be found under the App integration and Federation sections."
    ],
    " ",
    [
      "h3",
      {
        "id": "install-auth-connect"
      },
      " ",
      [
        "a",
        {
          "href": "#install-auth-connect"
        },
        "Install Auth Connect"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Run the following command to install the Auth Connect plugin. For the ",
      [
        "code",
        null,
        "AUTH_URL_SCHEME"
      ],
      " variable, use the globally unique App Id (ex: ",
      [
        "code",
        null,
        "com.company.app"
      ],
      ") you decided on when configuring the Azure AD app above."
    ],
    " ",
    [
      "p",
      null,
      [
        "native-ent-install",
        {
          "plugin-id": "auth",
          "variables": "--variable AUTH_URL_SCHEME=com.company.app"
        }
      ]
    ],
    " ",
    [
      "h3",
      {
        "id": "configure-auth-connect"
      },
      " ",
      [
        "a",
        {
          "href": "#configure-auth-connect"
        },
        "Configure Auth Connect"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "It's recommended to create an ",
      [
        "code",
        null,
        "AuthenticationService"
      ],
      " class that encapsulates AWS Cognito and Ionic Auth Connect’s login functionality."
    ],
    " ",
    [
      "p",
      null,
      "Generate this class using the ",
      [
        "code",
        null,
        "ionic generate"
      ],
      " command:"
    ],
    " ",
    [
      "command-line",
      null,
      " ",
      [
        "command-prompt",
        null,
        "ionic generate service services/authentication"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Extend the ",
      [
        "code",
        null,
        "IonicAuth"
      ],
      " class, then configure all AWS Cognito details in the ",
      [
        "code",
        null,
        "IonicAuthOptions"
      ],
      " object:"
    ],
    " ",
    [
      "docs-code",
      {
        "language": "typescript"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token keyword"
            },
            "import"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          " IonicAuth",
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " IonicAuthOptions ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          " ",
          [
            "span",
            {
              "class": "token keyword"
            },
            "from"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'@ionic-enterprise/auth'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ";"
          ],
          "\n\n",
          [
            "span",
            {
              "class": "token keyword"
            },
            "export"
          ],
          " ",
          [
            "span",
            {
              "class": "token keyword"
            },
            "class"
          ],
          " ",
          [
            "span",
            {
              "class": "token class-name"
            },
            "AuthenticationService"
          ],
          " ",
          [
            "span",
            {
              "class": "token keyword"
            },
            "extends"
          ],
          " ",
          [
            "span",
            {
              "class": "token class-name"
            },
            "IonicAuth"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n\n",
          [
            "span",
            {
              "class": "token keyword"
            },
            "constructor"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            "("
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ")"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token keyword"
            },
            "const"
          ],
          " cognitoConfig",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " IonicAuthOptions ",
          [
            "span",
            {
              "class": "token operator"
            },
            "="
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// The auth provider."
          ],
          "\n    authConfig",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'cognito'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// The platform which the app is running on"
          ],
          "\n    platform",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'cordova'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// client or application id for provider"
          ],
          "\n    clientID",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// the discovery url for the provider"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// OpenID configuration"
          ],
          "\n    discoveryUrl",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// the URI to redirect to after log in"
          ],
          "\n    redirectUri",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// requested scopes from provider"
          ],
          "\n    scope",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// the audience, if applicable"
          ],
          "\n    audience",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// the URL to redirect to after log out"
          ],
          "\n    logoutUrl",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// The type of iOS webview to use. 'shared' will use a webview that can"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// share session/cookies on iOS to provide SSO across multiple apps but"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// will cause a prompt for the user which asks them to confirm they want"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// to share site data with the app. 'private' uses a webview which will"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// not prompt the user but will not be able to share session/cookie data"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// either for true SSO across multiple apps."
          ],
          "\n    iosWebView",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'private'"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// required if running on the Web"
          ],
          "\n    clientSecret",
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "'FILL_IN'"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ";"
          ],
          "\n\n    ",
          [
            "span",
            {
              "class": "token keyword"
            },
            "super"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            "("
          ],
          "cognitoConfig",
          [
            "span",
            {
              "class": "token punctuation"
            },
            ")"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ";"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          "\n",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ]
        ]
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Some of these ",
      [
        "code",
        null,
        "IonicAuthOptions"
      ],
      " values are unique, and must be set based on your Cognito details:"
    ],
    " ",
    [
      "ul",
      null,
      " ",
      [
        "li",
        null,
        [
          "code",
          null,
          "platform"
        ],
        ": Use “cordova” or “capacitor” accordingly."
      ],
      " ",
      [
        "li",
        null,
        [
          "code",
          null,
          "clientID"
        ],
        ": Your app’s Client ID, found under [User Pool] -> General Settings -> App clients."
      ],
      " ",
      [
        "li",
        null,
        [
          "code",
          null,
          "clientSecret"
        ],
        ": Your apps' Client Secret, found under [User Pool] -> General Settings -> App clients."
      ],
      " ",
      [
        "li",
        null,
        [
          "code",
          null,
          "redirectUri"
        ],
        ": The URI to redirect to after the user has logged in. Use the same AUTH_URL_SCHEME variable value (App Id) from when the Auth Connect plugin was installed. Example: com.company.app://callback. Find this under [User Pool] -> App Integration -> App client settings."
      ],
      " ",
      [
        "li",
        null,
        [
          "code",
          null,
          "logoutUrl"
        ],
        ": The URI to redirect to after the user has logged out. Example: com.company.app://login?logout=true. Find this under [User Pool] -> App Integration -> App client settings."
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "The ",
      [
        "code",
        null,
        "discoveryUrl"
      ],
      " formula is:"
    ],
    " ",
    [
      "p",
      null,
      [
        "a",
        {
          "href": "https://cognito-idp.REGION.amazonaws.com/USER-POOL-ID/.well-known.openid-configuration"
        },
        "https://cognito-idp.REGION.amazonaws.com/USER-POOL-ID/.well-known.openid-configuration"
      ]
    ],
    " ",
    [
      "p",
      null,
      "Where ",
      [
        "code",
        null,
        "REGION"
      ],
      " is the hosted AWS region (like \"us-east-1) and ",
      [
        "code",
        null,
        "USER-POOL-ID"
      ],
      " is the Pool Id (like \"us-east-1_vdkald21\"), found under [User Pool] -> General Settings."
    ],
    " ",
    [
      "h3",
      {
        "id": "what-s-next-"
      },
      " ",
      [
        "a",
        {
          "href": "#what-s-next-"
        },
        "What's Next?"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Check out the full list of ",
      [
        "stencil-route-link",
        {
          "url": "/docs/enterprise/auth-connect#ionicauthoptions"
        },
        "configuration options"
      ],
      " available, then implement the ",
      [
        "stencil-route-link",
        {
          "url": "/docs/enterprise/auth-connect#workflow"
        },
        "other steps"
      ],
      " in the Auth Connect workflow."
    ]
  ],
  "title": "AWS Cognito Configuration",
  "headings": [
    {
      "text": "Configuration Details",
      "href": "#configuration-details"
    }
  ],
  "pageClass": "page-enterprise-auth-connect-aws-cognito"
}
